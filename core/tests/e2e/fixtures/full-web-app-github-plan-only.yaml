name: full-web-app-github-plan-only
description: Plan-only test for full web application (tests just the planning phase with Gemini reviews)
runner: claude
workflow: full
team_mode: git_hub
phase: plan_only

prompt: |
  Build a web application that allows users to edit an SQLite database.

  Requirements:
  1. Authentication using JWT tokens
     - A local JWT CA with local private key and certificate should exist
     - Expose a .well-known endpoint for public keys

  2. Frontend
     - Use htmx for the frontend
     - Allow users to add/remove tables
     - Allow users to change table structure (add/remove columns)

  3. Backend
     - Use Rust for the backend
     - Store data in SQLite

  4. Testing
     - Use Playwright for E2E testing
     - Test logging into the app using a short-lived JWT token
     - Test adding and removing tables
     - Test changing table structure
     - Push test results to the repository for validation on the PR

  5. CI/CD
     - Create GitHub Actions workflows for:
       - Lint checks using Super-Linter (github/super-linter)
       - Dependency review using dependency-review-action (https://github.com/actions/dependency-review-action)
       - Run on all PRs

# No validation for plan-only - we just want to see the plan PR created
validation:
  level: file_exists
  expected_files: []

timeout: 900  # 15 minutes for planning phase only
